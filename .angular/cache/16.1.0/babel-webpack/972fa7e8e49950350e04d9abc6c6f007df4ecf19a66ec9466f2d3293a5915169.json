{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nclass PaymentComponent {\n  // create a form for the post request\n  postToExternalSite() {\n    const form = window.document.createElement('form');\n    form.setAttribute('method', 'post');\n    form.setAttribute('action', environment.endpoint);\n    // use _self to redirect in same tab, _blank to open in new tab\n    // form.setAttribute('target', '_blank');\n    form.setAttribute('target', 'frame');\n    // Add all the data to be posted as Hidden elements\n    form.appendChild(this.createHiddenElement('MD', 'foo'));\n    form.appendChild(this.createHiddenElement('PaReq', 'bar'));\n    form.appendChild(this.createHiddenElement('TermUrl', 'https://dump.example.com'));\n    console.log(form);\n    window.document.body.appendChild(form);\n    form.submit();\n  }\n  // create the form\n  createHiddenElement(name, value) {\n    const hiddenField = document.createElement('input');\n    hiddenField.setAttribute('name', name);\n    hiddenField.setAttribute('value', value);\n    hiddenField.setAttribute('type', 'hidden');\n    return hiddenField;\n  }\n}\nPaymentComponent.ɵfac = function PaymentComponent_Factory(t) {\n  return new (t || PaymentComponent)();\n};\nPaymentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PaymentComponent,\n  selectors: [[\"app-payment\"]],\n  decls: 1,\n  vars: 0,\n  consts: [[\"id\", \"frame\", \"width\", \"430\", \"height\", \"450\", \"frameborder\", \"0\", \"name\", \"frame\", 1, \"custom-frame\"]],\n  template: function PaymentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"iframe\", 0);\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { PaymentComponent };","map":{"version":3,"names":["environment","PaymentComponent","postToExternalSite","form","window","document","createElement","setAttribute","endpoint","appendChild","createHiddenElement","console","log","body","submit","name","value","hiddenField","selectors","decls","vars","consts","template","PaymentComponent_Template","rf","ctx","i0","ɵɵelement"],"sources":["C:\\projects\\cybersource_sa_angular\\cybersource_sa\\src\\app\\payment\\payment.component.ts","C:\\projects\\cybersource_sa_angular\\cybersource_sa\\src\\app\\payment\\payment.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.component.html',\n  styleUrls: ['./payment.component.scss']\n})\nexport class PaymentComponent {\n  // create a form for the post request\n  postToExternalSite(): void {\n    const form = window.document.createElement('form');\n    form.setAttribute('method', 'post');\n    form.setAttribute('action', environment.endpoint);\n    // use _self to redirect in same tab, _blank to open in new tab\n    // form.setAttribute('target', '_blank');\n    form.setAttribute('target', 'frame');\n\n    // Add all the data to be posted as Hidden elements\n    form.appendChild(this.createHiddenElement('MD', 'foo'));\n    form.appendChild(this.createHiddenElement('PaReq', 'bar'));\n    form.appendChild(this.createHiddenElement('TermUrl','https://dump.example.com'));\n    console.log(form);\n    window.document.body.appendChild(form);\n    form.submit();\n  }\n  \n\n  // create the form\n  private createHiddenElement(name: string, value: string): HTMLInputElement {\n    const hiddenField = document.createElement('input');\n    hiddenField.setAttribute('name', name);\n    hiddenField.setAttribute('value', value);\n    hiddenField.setAttribute('type', 'hidden');\n    return hiddenField;\n  }\n\n\n}\n","<iframe class=\"custom-frame\" id=\"frame\"  width=\"430\" height=\"450\" frameborder=\"0\" name=\"frame\">"],"mappings":"AACA,SAASA,WAAW,QAAQ,8BAA8B;;AAE1D,MAKaC,gBAAgB;EAC3B;EACAC,kBAAkBA,CAAA;IAChB,MAAMC,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IAClDH,IAAI,CAACI,YAAY,CAAC,QAAQ,EAAE,MAAM,CAAC;IACnCJ,IAAI,CAACI,YAAY,CAAC,QAAQ,EAAEP,WAAW,CAACQ,QAAQ,CAAC;IACjD;IACA;IACAL,IAAI,CAACI,YAAY,CAAC,QAAQ,EAAE,OAAO,CAAC;IAEpC;IACAJ,IAAI,CAACM,WAAW,CAAC,IAAI,CAACC,mBAAmB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACvDP,IAAI,CAACM,WAAW,CAAC,IAAI,CAACC,mBAAmB,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAC1DP,IAAI,CAACM,WAAW,CAAC,IAAI,CAACC,mBAAmB,CAAC,SAAS,EAAC,0BAA0B,CAAC,CAAC;IAChFC,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC;IACjBC,MAAM,CAACC,QAAQ,CAACQ,IAAI,CAACJ,WAAW,CAACN,IAAI,CAAC;IACtCA,IAAI,CAACW,MAAM,EAAE;EACf;EAGA;EACQJ,mBAAmBA,CAACK,IAAY,EAAEC,KAAa;IACrD,MAAMC,WAAW,GAAGZ,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IACnDW,WAAW,CAACV,YAAY,CAAC,MAAM,EAAEQ,IAAI,CAAC;IACtCE,WAAW,CAACV,YAAY,CAAC,OAAO,EAAES,KAAK,CAAC;IACxCC,WAAW,CAACV,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;IAC1C,OAAOU,WAAW;EACpB;;AA3BWhB,gBAAgB,C;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB,C;QAAhBA,gBAAgB;EAAAiB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCR7BE,EAAA,CAAAC,SAAA,gBAA+F;;;;;SDQlF1B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}